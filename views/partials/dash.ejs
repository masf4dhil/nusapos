<!-- Bootstrap core JavaScript-->
<script src="/sb-admin-2/vendor/jquery/jquery.min.js"></script>
<script src="/sb-admin-2/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

<!-- Core plugin JavaScript-->
<script src="/sb-admin-2/vendor/jquery-easing/jquery.easing.min.js"></script>

<!-- Custom scripts for all pages-->
<script src="/sb-admin-2/js/sb-admin-2.min.js"></script>

<!-- Page level plugins -->
<script src="/sb-admin-2/vendor/datatables/jquery.dataTables.min.js"></script>
<script src="/sb-admin-2/vendor/datatables/dataTables.bootstrap4.min.js"></script>

<!-- Page level custom scripts -->
<script src="/sb-admin-2/js/demo/datatables-demo.js"></script>
<script src="https://cdn.ckeditor.com/4.15.0/standard/ckeditor.js"></script>


<!-- Bootstrap Date-Picker Plugin -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker3.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.js"></script> 

<!-- seacrh and input combo box -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>

<!-- script untuk search -->
<script>
  function myFunction() {
    var input, filter, cards, cardContainer, h5, title, i;
    input = document.getElementById("myFilter");
    filter = input.value.toUpperCase();
    cardContainer = document.getElementById("myItems");
    cards = cardContainer.getElementsByClassName("card");
    for (i = 0; i < cards.length; i++) {
      title = cards[i].querySelector(".card-body");
      if (title.innerText.toUpperCase().indexOf(filter) > -1) {
        cards[i].style.display = "";
      } else {
        cards[i].style.display = "none";
      }
    }
  }



  function displayValue(data) {

    var id = "diskon" + data;
    let idValue = "discountValue" + data;
    let diskonID = "diskonID" + data;
    let type_id = "typeDiskon" + data;
    let concat = document.getElementById(idValue).value;
    var output = concat.split('^');

    var exType = output[2];
    document.getElementById(type_id).value = exType;

    var ex = parseInt(output[0]);
    document.getElementById(id).value = ex;

    var dataidDiskon = output[1]
    document.getElementById(diskonID).value = dataidDiskon;

    if (ex) {
      var subtotal = parseInt(document.getElementById("subtotal2").value);
      var idDiskon = parseInt(document.getElementById("arrayidDiskon").value);
      var total = 0;
      for (var i = 1; i <= idDiskon; i++) {
        var val = parseInt(document.getElementById("diskon" + i).value);
        if (val > 0) {
          total += val;
        }
      }
      var days = parseInt(document.getElementById("days").value);
      var diskon = document.getElementById('totalDiskon').value = total;
      if(days){
        var finalTotal = subtotal * days - diskon 
        document.getElementById('totalAll').value = finalTotal;
      }

    }
  }
 
</script>




<script>
  $('#select2').select2();
</script>



<script>
  $(function () {

    $('#fdate').datepicker({
      format: "dd-M-yy",
      todayHighlight: 'TRUE',
      autoclose: true,
      minDate: 0,
      startDate: new Date(),
      maxDate: '+1Y+6M'
    }).on('changeDate', function (ev) {
      $('#tdate').datepicker('setStartDate', $("#fdate").val());
    });

    $('#tdate').datepicker({
      format: "dd-M-yy",
      todayHighlight: 'TRUE',
      autoclose: true,
      minDate: '0',
      maxDate: '+1Y+6M'
    }).on('changeDate', function (ev) {
      $('#tdate').datepicker('setStartDate', $("#fdate").val());
      var start = $("#fdate").val();
      var startD = new Date(start);
      var end = $("#tdate").val();
      var endD = new Date(end);
      var diff = parseInt((endD.getTime() - startD.getTime()) / (24 * 3600 * 1000));
      $("#days").val(diff);

      var subtotal = parseInt(document.getElementById("subtotal2").value);
      var diskon = document.getElementById('totalDiskon').value
      var days = parseInt(document.getElementById("days").value);
      if (diskon) {
        var finalTotal = subtotal * days - diskon
        document.getElementById('totalAll').value = finalTotal;
      }
   
    });

  });
</script>